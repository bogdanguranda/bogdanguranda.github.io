---
layout: base
---

<div class="blog-section">
    <div class="blog-content">
        <h1>{{ page.title }}</h1>
        {% if page.description and page.description != "" %}
        <p class="category-intro">{{ page.description }}</p>
        {% endif %}

        {% if page.toc %}
        <div class="toc">
            <h2>Explore</h2>
            <ul class="toc-list">
                {% for item in page.toc %}
                <li><a href="{{ item.url }}">{{ item.title }}</a></li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        <!-- List blog posts in this section -->
        {% assign current_path = page.permalink | default: page.url %}
        {% assign all_blog_posts = site.pages | where: "layout", "blog-post" %}

        {% if page.show_all_posts %}
        {% assign posts = all_blog_posts | sort: "date" | reverse %}
        {% else %}
        {% assign posts = "" | split: "" %}
        {% for p in all_blog_posts %}
        {% if p.permalink contains current_path %}
        {% assign posts = posts | push: p %}
        {% endif %}
        {% endfor %}
        {% assign posts = posts | sort: "date" | reverse %}
        {% endif %}

        {% if posts.size > 0 %}
        <div class="blog-posts-list">
            <h2>Posts</h2>
            {% for post in posts %}
            <article class="blog-post-preview">
                <h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
                {% if post.date %}
                <time class="post-date" datetime="{{ post.date | date_to_xmlschema }}">
                    {{ post.date | date: "%B %d, %Y" }}
                </time>
                {% endif %}
                {% if post.excerpt %}
                <p class="post-excerpt">{{ post.excerpt }}</p>
                {% endif %}
                {% if post.tags %}
                <div class="post-tags">
                    {% for tag in post.tags %}
                    <a href="/blog/?tag={{ tag | slugify }}" class="tag">{{ tag }}</a>
                    {% endfor %}
                </div>
                {% endif %}
            </article>
            {% endfor %}
        </div>
        {% endif %}

        {% if content == "" or content == nil or content == blank %}
        {% unless posts.size > 0 or page.toc %}
        <p class="coming-soon">Sorry, I haven't finished this page yet, but it's coming soon!</p>
        {% endunless %}
        {% else %}
        {{ content }}
        {% endif %}
    </div>

    {% include blog-sidebar.html %}
</div>
